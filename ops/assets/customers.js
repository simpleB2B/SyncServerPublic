import{_ as x,k as u,o as r,a as n,w as t,b as l,l as b,g as m,m as y,n as f,h,r as C,F as _,t as c,f as k}from"./index.js";import{a as A,V as p,b as V,c as E}from"./VCard.js";import{V as R}from"./VSelect.js";import{V as L,a as N}from"./VTextarea.js";import{V as v,a as B,b as P,c as T}from"./VExpansionPanels.js";import"./easing.js";import"./VOverlay.js";import"./lazy.js";const S={data(){return{customers:null,form:!1,results:null,isLoading:!1,type:"Customer",types:[{title:"Account Details",value:"Customer"},{title:"Ship-to Addresses",value:"Address"}],rules:[a=>a?!0:"Required"]}},methods:{reload(){var a,s,i;if(this.customers){(a=this.customers)==null||a.split(`
`).forEach(e=>{});let d=this;this.isLoading=!0,this.type=="Address"?u.extractCustomerAddresses((s=this.customers)==null?void 0:s.split(`
`)).then(e=>{console.debug(e),d.results=e==null?void 0:e.data,u.upload("Address")}).finally(()=>{this.isLoading=!1}):u.extractCustomers((i=this.customers)==null?void 0:i.split(`
`)).then(e=>{console.debug(e),d.results=e==null?void 0:e.data,u.upload("Customer")}).finally(()=>{this.isLoading=!1})}}}};function D(a,s,i,d,e,g){return r(),n(A,null,{default:t(()=>[l(N,{modelValue:e.form,"onUpdate:modelValue":s[3]||(s[3]=o=>e.form=o)},{default:t(()=>[l(p,{class:"mx-auto",title:"Customer Reload",subtitle:"Reload customer accounts and ship-tos","max-width":"600"},{default:t(()=>[l(V,{class:"bg-surface-light pt-4"},{default:t(()=>[l(R,{label:"Reload",modelValue:e.type,"onUpdate:modelValue":s[0]||(s[0]=o=>e.type=o),items:e.types},null,8,["modelValue","items"]),l(L,{rules:e.rules,modelValue:e.customers,"onUpdate:modelValue":s[1]||(s[1]=o=>e.customers=o),label:"Customer Numbers",hint:"Place each customer number on its own line"},null,8,["rules","modelValue"])]),_:1}),l(E,null,{default:t(()=>[l(b,{color:"primary",onClick:s[2]||(s[2]=o=>g.reload()),loading:e.isLoading},{default:t(()=>s[4]||(s[4]=[m("Reload")])),_:1},8,["loading"])]),_:1})]),_:1}),e.results?(r(),n(y,{key:0,class:"my-8"})):f("",!0),e.results?(r(),n(p,{key:1,class:"mx-auto",title:"Results",subtitle:e.results.length+" Records Extracted"},{default:t(()=>[l(V,{class:"bg-surface-light pt-4"},{default:t(()=>[l(v,null,{default:t(()=>[(r(!0),h(_,null,C(e.results,o=>(r(),n(B,null,{default:t(()=>[l(P,null,{default:t(()=>[m(c(o[Object.keys(o)[1]]),1)]),_:2},1024),l(T,null,{default:t(()=>[k("pre",null,c(JSON.stringify(o,null,2)),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1},8,["subtitle"])):f("",!0)]),_:1},8,["modelValue"])]),_:1})}const G=x(S,[["render",D]]);export{G as default};
